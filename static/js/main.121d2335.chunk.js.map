{"version":3,"sources":["features/settings/settings.slice.ts","api/hackerNewsApi.ts","features/posts/posts.slice.ts","config/break-points.ts","services/saved-posts-service.ts","features/saved-posts/saved-posts.slice.ts","components/dropdown/DropdownMenu.tsx","hooks/useClickAway.tsx","components/dialogs/BottomSheetOptionsDialog.tsx","pages/posts/PostItem.tsx","hooks/useDeviceType.tsx","pages/posts/PostsList.tsx","pages/posts/PostsPage.tsx","pages/home/HomePage.tsx","App.tsx","reducer.ts","store.ts","index.tsx"],"names":["initialState","data","pageSize","settingsLoaded","settingsSlice","createSlice","name","reducers","loadingComplete","state","loadSettings","action","payload","actions","BASE_URL","getTopStories","a","fetch","then","json","getPostById","id","post","url","hostname","URL","DeviceType","isFetching","currentPage","topStories","displayPosts","err","undefined","pageNumber","postsSlice","postFetchStart","postFetchStop","postFetchSuccess","posts","displayPostFetchSuccess","displayPostFetchFailure","postFetchFailed","fetchPostsByIds","ids","dispatch","getState","promises","map","Promise","all","toString","POSTS_ARRAY_KEY","savedPostsService","savedPosts","isLoaded","localStorage","setItem","JSON","stringify","this","stringData","getItem","parse","console","error","loadPostsFromLocalStorage","saveToLocalStorage","loadSavedPosts","savedPostsSlice","postKeys","getSavedPosts","reduce","collector","savePost","breakPointsValues","breakPoints","tablet","desktop","styled","className","isOpen","options","onOptionClick","onClose","icon","useState","isClosing","setClosing","rootRef","useRef","onClickAway","isActive","useEffect","handleClick","e","current","contains","target","document","addEventListener","removeEventListener","useClickAway","setTimeout","ref","style","top","offsetHeight","option","disabled","onClick","key","preventDefault","stopPropagation","handleOptionClick","src","iconUrl","alt","props","alignment","component","onOptionClicked","originalOverflow","body","overflow","PostItem","onSavePostClicked","isSaved","isOptionsMenuOpen","setOptionsMenuOpen","deviceType","window","innerWidth","width","setWidth","handleResize","MOBILE","TABLET","DESKTOP","useDeviceType","handleDialogClose","handleOptionsClick","handleMenuOptionClicked","Root","Connector","ConnectorLine","ConnectorCircle","Container","href","rel","Content","Main","Title","title","Hostname","Info","dayjs","time","format","Comments","descendants","process","height","Score","score","Options","MoreOptionsIcon","OpenIcon","img","div","Date","List","PostsList","savedPostKeys","ShadowContainer","ShadowTop","ShadowBottom","PostsPage","useDispatch","useSelector","start","settings","end","length","selectedPostsIds","slice","TopBar","HomePage","App","reducer","combineReducers","postsReducer","settingsReducer","savedPostsReducer","store","configureStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.121d2335.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { AppThunk } from \"../../store\";\n\ninterface Settings {\n  pageSize: number;\n}\n\ninterface SettingsState {\n  data: Settings;\n  settingsLoaded: boolean;\n}\n\nconst initialState: SettingsState = {\n  data: {\n    pageSize: 20,\n  },\n  settingsLoaded: false,\n};\n\ntype SettingsLoadedPayload = Settings;\n\nconst settingsSlice = createSlice({\n  name: \"settings\",\n  initialState,\n  reducers: {\n    loadingComplete(state) {\n      state.settingsLoaded = true;\n    },\n    loadSettings(state, action: PayloadAction<SettingsLoadedPayload>) {\n      state.data = action.payload;\n    },\n  },\n});\n\nexport const { loadSettings, loadingComplete } = settingsSlice.actions;\n\nexport default settingsSlice.reducer;\n\nexport const loadSettingsFromStorage = (): AppThunk => {\n  return (dispatch) => {\n    const settings = localStorage.getItem(\"settings\");\n    if (settings) {\n      dispatch(loadSettings(JSON.parse(settings)));\n    } else {\n      dispatch(loadSettings(initialState.data));\n    }\n    dispatch(loadingComplete());\n  };\n};\n","const BASE_URL = \"https://hacker-news.firebaseio.com/v0\";\n\nexport interface HackerPost {\n  by: string;\n  descendants: number;\n  id: number;\n  score: number;\n  time: number;\n  title: string;\n  type: string;\n  url: string;\n  hostname?: string;\n}\n\nexport async function getTopStories(): Promise<number[]> {\n  return fetch(BASE_URL + \"/topstories.json\").then((data) => data.json());\n}\n\nexport async function getPostById(id: number): Promise<HackerPost> {\n  return fetch(BASE_URL + `/item/${id}.json`)\n    .then((data) => data.json())\n    .then((post) => {\n      if (post.url) {\n        post.hostname = new URL(post.url).hostname;\n      }\n      return post;\n    });\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport {\n  getPostById,\n  getTopStories,\n  HackerPost,\n} from \"../../api/hackerNewsApi\";\nimport { AppThunk } from \"../../store\";\n\ninterface PostsState {\n  isFetching: boolean;\n  currentPage: number;\n  topStories: number[];\n  displayPosts: HackerPost[];\n  pageNumber: number;\n  err?: string;\n}\n\ninterface PostsFetchSuccessPayload {\n  posts: number[];\n}\n\ninterface PostsFetchFailedPayload {\n  err: string;\n}\n\ninterface DisplayPostsFetchSuccessPayload {\n  posts: HackerPost[];\n}\n\ninterface DisplayPostsFetchFailurePayload {\n  err: string;\n}\n\nconst initialState: PostsState = {\n  isFetching: false,\n  currentPage: 0,\n  topStories: [],\n  displayPosts: [],\n  err: undefined,\n  pageNumber: 0,\n};\n\nconst postsSlice = createSlice({\n  name: \"posts\",\n  initialState,\n  reducers: {\n    postFetchStart(state) {\n      state.isFetching = true;\n    },\n    postFetchStop(state) {\n      state.isFetching = false;\n    },\n    postFetchSuccess(state, action: PayloadAction<PostsFetchSuccessPayload>) {\n      state.err = undefined;\n      state.topStories = action.payload.posts;\n    },\n    displayPostFetchSuccess(\n      state,\n      action: PayloadAction<DisplayPostsFetchSuccessPayload>\n    ) {\n      state.displayPosts = action.payload.posts;\n    },\n    displayPostFetchFailure(\n      state,\n      action: PayloadAction<DisplayPostsFetchFailurePayload>\n    ) {\n      state.err = action.payload.err;\n    },\n    postFetchFailed(state, action: PayloadAction<PostsFetchFailedPayload>) {\n      state.err = action.payload.err;\n    },\n  },\n});\n\nexport const {\n  postFetchFailed,\n  postFetchStart,\n  postFetchStop,\n  postFetchSuccess,\n  displayPostFetchSuccess,\n  displayPostFetchFailure,\n} = postsSlice.actions;\n\nexport default postsSlice.reducer;\n\nexport const fetchPostsByIds = (ids: number[]): AppThunk => {\n  return async (dispatch, getState) => {\n    dispatch(postFetchStart());\n\n    try {\n      const promises = ids.map(getPostById);\n      const posts = await Promise.all(promises);\n      dispatch(displayPostFetchSuccess({ posts }));\n    } catch (err) {\n      dispatch(displayPostFetchFailure({ err: err.toString() }));\n    }\n\n    dispatch(postFetchStop());\n  };\n};\n\nexport const fetchTopStories = (): AppThunk => {\n  return async (dispatch, getState) => {\n    const state = getState();\n    const start = state.posts.pageNumber * state.settings.data.pageSize;\n    const end = start + state.settings.data.pageSize;\n\n    let selectedPostsIds: number[];\n\n    // If posts have not already been loaded.\n    if (!state.posts.topStories.length) {\n      dispatch(postFetchStart());\n      try {\n        const data = await getTopStories();\n        dispatch(postFetchSuccess({ posts: data }));\n        selectedPostsIds = data.slice(start, end);\n      } catch (err) {\n        dispatch(postFetchFailed({ err: err.toString() }));\n        dispatch(postFetchStop());\n        return;\n      }\n    } else {\n      selectedPostsIds = state.posts.topStories.slice(start, end);\n    }\n\n    dispatch(fetchPostsByIds(selectedPostsIds));\n  };\n};\n","export enum DeviceType {\n  MOBILE,\n  TABLET,\n  DESKTOP,\n}\n\nexport const breakPointsValues = {\n  tablet: 600,\n  desktop: 1100,\n};\n\nconst breakPoints = {\n  tablet: `@media (min-width: ${breakPointsValues.tablet}px)`,\n  desktop: `@media (min-width: ${breakPointsValues.desktop}px)`,\n};\n\nexport default breakPoints;\n","import { HackerPost } from \"../api/hackerNewsApi\";\n\nconst POSTS_ARRAY_KEY = \"posts\";\n\nclass SavedPostsService {\n  private savedPosts: HackerPost[] = [];\n  private isLoaded: boolean = false;\n\n  private saveToLocalStorage(): void {\n    localStorage.setItem(POSTS_ARRAY_KEY, JSON.stringify(this.savedPosts));\n  }\n\n  private loadPostsFromLocalStorage(): void {\n    const stringData = localStorage.getItem(POSTS_ARRAY_KEY);\n    if (stringData) {\n      try {\n        this.savedPosts = JSON.parse(stringData);\n      } catch (err) {\n        console.error(\"Unable to parse posts array from string data...\", err);\n      }\n    }\n  }\n\n  public loadSavedPosts(): void {\n    this.loadPostsFromLocalStorage();\n  }\n\n  public savePost(post: HackerPost): void {\n    this.savedPosts = [post, ...this.savedPosts];\n    this.saveToLocalStorage();\n  }\n\n  public getSavedPosts(): HackerPost[] {\n    if (!this.isLoaded) {\n      this.loadSavedPosts();\n    }\n    return this.savedPosts;\n  }\n}\n\nexport default SavedPostsService;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { HackerPost } from \"../../api/hackerNewsApi\";\nimport SavedPostsService from \"../../services/saved-posts-service\";\n\nconst savedPostsService = new SavedPostsService();\n\ninterface SavedPostsState {\n  posts: HackerPost[];\n  postKeys: Record<number, boolean>;\n}\n\ninterface SavePostPayload {\n  post: HackerPost;\n}\n\nconst initialState: SavedPostsState = {\n  posts: [],\n  postKeys: {},\n};\n\nconst savedPostsSlice = createSlice({\n  name: \"savedPosts\",\n  initialState,\n  reducers: {\n    loadSavedPosts(state) {\n      state.posts = savedPostsService.getSavedPosts();\n      state.postKeys = state.posts.reduce<Record<number, boolean>>(\n        (collector, post) => {\n          collector[post.id] = true;\n          return collector;\n        },\n        {}\n      );\n    },\n    savePost(state, action: PayloadAction<SavePostPayload>) {\n      const { post } = action.payload;\n      savedPostsService.savePost(post);\n      state.posts = savedPostsService.getSavedPosts();\n      state.postKeys[post.id] = true;\n    },\n  },\n});\n\nexport default savedPostsSlice.reducer;\n\nexport const { loadSavedPosts, savePost } = savedPostsSlice.actions;\n","import React, { useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport useClickAway from \"../../hooks/useClickAway\";\n\ntype ALIGNMENT = \"left\" | \"right\";\n\ninterface Option {\n  name: string;\n  key: string;\n  iconUrl: string;\n  disabled?: boolean;\n}\n\ninterface Props {\n  isOpen: boolean;\n  onClose: () => void;\n  className?: string;\n  options: Option[];\n  onOptionClick: (key: string) => void;\n  icon: () => React.ReactElement;\n  alignment?: ALIGNMENT;\n}\n\nconst DropdownMenu: React.FC<Props> = ({\n  className,\n  isOpen,\n  options,\n  onOptionClick,\n  onClose,\n  icon,\n}) => {\n  const [isClosing, setClosing] = useState(false);\n  const rootRef = useRef<HTMLDivElement | null>(null);\n\n  function handleClickAway() {\n    setClosing(true);\n    setTimeout(() => {\n      setClosing(false);\n      onClose();\n    }, 300);\n  }\n\n  useClickAway(rootRef, handleClickAway, isOpen);\n\n  const handleOptionClick = (\n    e: React.MouseEvent<HTMLButtonElement>,\n    key: string\n  ) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onOptionClick(key);\n  };\n\n  return (\n    <div className={className} ref={rootRef}>\n      {icon()}\n      {isOpen && (\n        <div\n          className={`options options--${isClosing ? \"exiting\" : \"entering\"}`}\n          style={{ top: rootRef.current?.offsetHeight }}\n        >\n          {options.map((option) => {\n            return (\n              <button\n                className={`options__item ${\n                  option.disabled && \"options__item--disabled\"\n                }`}\n                key={option.key}\n                onClick={(e) => handleOptionClick(e, option.key)}\n                disabled={option.disabled}\n              >\n                <img\n                  className=\"options__item__icon\"\n                  src={option.iconUrl}\n                  alt=\"option\"\n                />\n                <span className=\"options__item__name\">{option.name}</span>\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default styled(DropdownMenu)`\n  position: relative;\n  z-index: 999;\n\n  .options {\n    position: absolute;\n    white-space: nowrap;\n    border-radius: 4px;\n    box-shadow: 0px 4px 10px rgb(230, 230, 230),\n      -4px 4px 10px rgb(230, 230, 230), 4px 4px 10px rgb(230, 230, 230);\n    background-color: white;\n    overflow: hidden;\n    ${(props) => props.alignment && `${props.alignment}: 0px`}\n  }\n\n  .options--entering {\n    animation: enterAnimation 0.3s;\n  }\n\n  .options--exiting {\n    animation: exitAnimation 0.3s;\n  }\n\n  .options__item {\n    background: none;\n    border: none;\n    display: flex;\n    padding: 16px;\n    transition: 0.3s;\n  }\n\n  .options__item:hover {\n    cursor: pointer;\n    background-color: #ebebeb;\n  }\n\n  .options__item--disabled {\n    opacity: 0.5;\n  }\n\n  .options__item--disabled:hover {\n    cursor: auto;\n  }\n\n  .options__item__icon {\n    height: 20px;\n    margin-right: 8px;\n  }\n\n  .options__item__name {\n    font-size: 18px;\n  }\n\n  @keyframes enterAnimation {\n    from {\n      opacity: 0;\n      transform: translateY(-10px);\n    }\n\n    to {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n  }\n\n  @keyframes exitAnimation {\n    from {\n      opacity: 1;\n      transform: translateY(0px);\n    }\n\n    to {\n      opacity: 0;\n      transform: translateY(-10px);\n    }\n  }\n`;\n","import React, { useEffect } from \"react\";\n\nexport default function useClickAway(\n  rootRef: React.RefObject<any>,\n  onClickAway: () => void,\n  isActive: boolean = false\n) {\n  useEffect(() => {\n    function handleClick(e: MouseEvent) {\n      if (rootRef && rootRef.current?.contains(e.target as any)) {\n        return;\n      }\n      onClickAway();\n    }\n\n    if (isActive) {\n      document.addEventListener(\"mousedown\", handleClick, false);\n      return () =>\n        document.removeEventListener(\"mousedown\", handleClick, false);\n    }\n  }, [rootRef, onClickAway, isActive]);\n}\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\n\ninterface Option {\n  name: string;\n  key: string;\n  iconUrl: string;\n  disabled?: boolean;\n}\n\ninterface Props {\n  isOpen: boolean;\n  onClose: () => void;\n  className?: string;\n  options: Option[];\n  onOptionClicked: (key: string) => void;\n}\n\nconst BottomSheetOptionsDialog: React.FC<Props> = ({\n  isOpen,\n  className,\n  onClose,\n  options,\n  onOptionClicked,\n}) => {\n  const [isClosing, setClosing] = useState(false);\n\n  useEffect(() => {\n    if (isOpen) {\n      const originalOverflow = document.body.style.overflow;\n      document.body.style.overflow = \"hidden\";\n      return () => {\n        document.body.style.overflow = originalOverflow;\n      };\n    }\n  }, [isOpen]);\n\n  const handleDialogClose = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setClosing(true);\n    setTimeout(() => {\n      setClosing(false);\n      onClose();\n    }, 300);\n  };\n\n  const handleContentClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    // Prevent the click from going to dialog root\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  if (!isOpen) {\n    return null;\n  }\n\n  return (\n    <div className={className}>\n      <div className=\"dialog\" onClick={handleDialogClose}>\n        <div\n          className={`dialog__content  dialog__content--${\n            isClosing ? \"exiting\" : \"entering\"\n          }`}\n          onClick={handleContentClick}\n        >\n          <div className=\"options\">\n            {options.map((option) => {\n              return (\n                <button\n                  className=\"options__item\"\n                  key={option.key}\n                  onClick={() => onOptionClicked(option.key)}\n                >\n                  <img\n                    className=\"options__item__icon\"\n                    src={option.iconUrl}\n                    alt=\"option\"\n                  />\n                  <span className=\"options__item__name\">{option.name}</span>\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst component = styled(BottomSheetOptionsDialog)`\n  .dialog {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    z-index: 999;\n  }\n\n  .dialog__content {\n    background-color: white;\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    max-height: 50%;\n    overflow-y: scroll;\n  }\n\n  .dialog__content--entering {\n    animation: enterAnimation 0.3s forwards;\n  }\n\n  .dialog__content--exiting {\n    animation: exitAnimation 0.3s forwards;\n  }\n\n  .options__item {\n    display: flex;\n    align-items: center;\n    padding: 16px;\n    background: none;\n    border: none;\n    font-size: 20px;\n    width: 100%;\n    text-align: left;\n    border-bottom: 1px solid #e1e1e1;\n  }\n\n  .options__item__icon {\n    margin-right: 16px;\n    opacity: 0.5;\n  }\n\n  .options__item__name {\n  }\n\n  @keyframes enterAnimation {\n    from {\n      bottom: -50%;\n    }\n\n    to {\n      bottom: 0;\n    }\n  }\n\n  @keyframes exitAnimation {\n    from {\n      bottom: 0;\n    }\n\n    to {\n      bottom: -50%;\n    }\n  }\n`;\n\nexport default component;\n","import React, { useState } from \"react\";\nimport { HackerPost } from \"../../api/hackerNewsApi\";\nimport styled from \"styled-components\";\nimport dayjs from \"dayjs\";\nimport breakPoints, { DeviceType } from \"../../config/break-points\";\nimport DropdownMenu from \"../../components/dropdown/DropdownMenu\";\nimport BottomSheetOptionsDialog from \"../../components/dialogs/BottomSheetOptionsDialog\";\nimport useDeviceType from \"../../hooks/useDeviceType\";\n\ninterface Props {\n  post: HackerPost;\n  onSavePostClicked: () => void;\n  isSaved: boolean;\n}\n\nconst PostItem: React.FC<Props> = ({ post, onSavePostClicked, isSaved }) => {\n  const [isOptionsMenuOpen, setOptionsMenuOpen] = useState(false);\n  const deviceType = useDeviceType();\n\n  const handleDialogClose = () => {\n    setOptionsMenuOpen(false);\n  };\n\n  const handleOptionsClick = (e: React.MouseEvent<HTMLImageElement>) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setOptionsMenuOpen(true);\n  };\n\n  const handleMenuOptionClicked = (key: string) => {\n    switch (key) {\n      case \"save_later\": {\n        onSavePostClicked();\n        break;\n      }\n    }\n    setOptionsMenuOpen(false);\n  };\n\n  return (\n    <Root>\n      <Connector>\n        <ConnectorLine />\n        <ConnectorCircle />\n        <ConnectorLine />\n      </Connector>\n      <Container href={post.url} target=\"_blank\" rel=\"noopener noreferrer\">\n        <Content>\n          <Main>\n            <Title>{post.title}</Title>\n            <Hostname>{post.hostname}</Hostname>\n          </Main>\n          <Info>\n            <Date>{dayjs(post.time * 1000).format(\"ddd DD/MM/YYYY\")}</Date>\n            <Comments>{post.descendants}</Comments>\n            <img\n              src={process.env.PUBLIC_URL + \"/images/comment.svg\"}\n              alt=\"comment icon\"\n              height=\"14\"\n            />\n            <Score>{post.score}</Score>\n            <img\n              src={process.env.PUBLIC_URL + \"/images/score.svg\"}\n              alt=\"comment icon\"\n              height=\"14\"\n            />\n          </Info>\n        </Content>\n        <Options>\n          {deviceType === DeviceType.MOBILE ? (\n            <>\n              <MoreOptionsIcon\n                onClick={handleOptionsClick}\n                src={process.env.PUBLIC_URL + \"/images/vertical-more.svg\"}\n                alt=\"comment icon\"\n              />\n              <BottomSheetOptionsDialog\n                isOpen={isOptionsMenuOpen}\n                onClose={handleDialogClose}\n                options={[\n                  {\n                    name: isSaved ? \"Already Saved\" : \"Save for later\",\n                    key: \"save_later\",\n                    iconUrl: process.env.PUBLIC_URL + \"/images/save.svg\",\n                    disabled: isSaved,\n                  },\n                ]}\n                onOptionClicked={handleMenuOptionClicked}\n              />\n            </>\n          ) : (\n            <DropdownMenu\n              alignment=\"right\"\n              isOpen={isOptionsMenuOpen}\n              onClose={handleDialogClose}\n              options={[\n                {\n                  name: isSaved ? \"Already Saved\" : \"Save for later\",\n                  key: \"save_later\",\n                  iconUrl: process.env.PUBLIC_URL + \"/images/save.svg\",\n                  disabled: isSaved,\n                },\n              ]}\n              onOptionClick={handleMenuOptionClicked}\n              icon={() => (\n                <MoreOptionsIcon\n                  onClick={handleOptionsClick}\n                  src={process.env.PUBLIC_URL + \"/images/vertical-more.svg\"}\n                  alt=\"comment icon\"\n                />\n              )}\n            />\n          )}\n          <OpenIcon\n            src={process.env.PUBLIC_URL + \"/images/open-in-new.svg\"}\n            alt=\"comment icon\"\n            height=\"18px\"\n          />\n        </Options>\n      </Container>\n    </Root>\n  );\n};\n\nexport default PostItem;\n\nconst OpenIcon = styled.img`\n  opacity: 0;\n  transition: 0.3s;\n  position: absolute;\n  right: 0;\n  bottom: 0;\n\n  ${breakPoints.tablet} {\n    position: relative;\n    right: -5px;\n  }\n`;\n\nconst ConnectorLine = styled.div`\n  width: 2px;\n  background-color: #4c98fa;\n  flex: 1;\n`;\n\nconst ConnectorCircle = styled.div`\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  border: 2px solid #4c98fa;\n  margin: 4px 0px;\n`;\n\nconst Connector = styled.div`\n  width: 2px;\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  margin-right: 16px;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Root = styled.div`\n  display: flex;\n  margin: 0px 16px;\n\n  &:first-of-type ${ConnectorLine}:first-of-type {\n    visibility: hidden;\n  }\n\n  &:last-of-type ${ConnectorLine}:last-of-type {\n    visibility: hidden;\n  }\n`;\n\nconst Container = styled.a`\n  flex: 1;\n  position: relative;\n  padding: 8px 12px;\n  transition: 0.3s;\n  display: flex;\n  align-items: stretch;\n  text-decoration: none;\n  color: black;\n  outline: none;\n  /* border-bottom: 1px solid #e1e1e1; */\n  background-color: #f8f9fd;\n  border-radius: 6px;\n  margin-bottom: 8px;\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  ${breakPoints.tablet} {\n    padding: 16px 24px;\n\n    &:hover ${OpenIcon} {\n      right: 0px;\n      opacity: 1;\n    }\n  }\n`;\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  flex: 1;\n`;\n\nconst Main = styled.div`\n  display: flex;\n  flex: 1;\n  margin-bottom: 6px;\n  align-items: flex-start;\n  flex-direction: column;\n`;\n\nconst Title = styled.div`\n  font-size: 18px;\n  margin-bottom: 4px;\n  font-weight: 500;\n`;\n\nconst Hostname = styled.div`\n  font-size: 12px;\n  color: #999999;\n`;\n\nconst Info = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Date = styled.div`\n  font-size: 12px;\n  color: grey;\n  flex: 1;\n  min-width: 120px;\n`;\n\nconst Comments = styled.div`\n  font-size: 12px;\n  color: grey;\n  padding: 3px 6px;\n  display: inline-block;\n  border-radius: 16px;\n  min-width: 28px;\n  text-align: center;\n  min-width: 30px;\n`;\n\nconst Score = styled.div`\n  font-size: 12px;\n  color: grey;\n  padding: 3px 6px;\n  display: inline-block;\n  border-radius: 16px;\n  min-width: 28px;\n  text-align: center;\n  margin-left: 16px;\n  min-width: 30px;\n`;\n\nconst Options = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst MoreOptionsIcon = styled.img`\n  border-radius: 24px;\n  height: 32px;\n  padding: 4px;\n  transition: 0.3s;\n\n  &:hover {\n    background-color: #e1e1e1;\n  }\n`;\n","import { useEffect, useState } from \"react\";\nimport { breakPointsValues, DeviceType } from \"../config/break-points\";\n\nexport default function useDeviceType(): DeviceType {\n  const [width, setWidth] = useState<number>(window.innerWidth);\n\n  const handleResize = () => {\n    setWidth(window.innerWidth);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  if (width < breakPointsValues.tablet) {\n    return DeviceType.MOBILE;\n  } else if (width < breakPointsValues.desktop) {\n    return DeviceType.TABLET;\n  } else {\n    return DeviceType.DESKTOP;\n  }\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { HackerPost } from \"../../api/hackerNewsApi\";\nimport breakPoints from \"../../config/break-points\";\nimport PostItem from \"./PostItem\";\n\nconst List = styled.div`\n  border-radius: 8px;\n  height: 100%;\n  overflow: scroll;\n  background-color: white;\n  padding: 28px 0px;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n\n  &-::-webkit-scrollbar {\n    display: none;\n  }\n\n  ${breakPoints.tablet} {\n    max-width: 70%;\n    margin: 0px auto;\n  }\n`;\n\ninterface Props {\n  posts: HackerPost[];\n  onSavePostClicked: (post: HackerPost) => void;\n  savedPostKeys: Record<number, boolean>;\n}\n\nconst PostsList: React.FC<Props> = ({\n  posts,\n  onSavePostClicked,\n  savedPostKeys,\n}) => {\n  return (\n    <List>\n      {posts.map((post) => (\n        <PostItem\n          key={post.id}\n          post={post}\n          onSavePostClicked={() => onSavePostClicked(post)}\n          isSaved={!!savedPostKeys[post.id]}\n        />\n      ))}\n    </List>\n  );\n};\n\nexport default PostsList;\n","import React, { FunctionComponent, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { HackerPost } from \"../../api/hackerNewsApi\";\nimport { fetchTopStories } from \"../../features/posts/posts.slice\";\nimport {\n  loadSavedPosts,\n  savePost,\n} from \"../../features/saved-posts/saved-posts.slice\";\nimport { RootState } from \"../../reducer\";\nimport PostsList from \"./PostsList\";\n\nconst Container = styled.div`\n  flex: 1;\n  height: 100%;\n  padding-bottom: 64px;\n  overflow: hidden;\n`;\n\nconst ShadowContainer = styled.div`\n  height: 100%;\n  position: relative;\n`;\n\nconst ShadowTop = styled.div`\n  background: linear-gradient(white, rgba(255, 255, 255, 0.2));\n  position: absolute;\n  height: 50px;\n  width: 100%;\n  z-index: 10000;\n`;\n\nconst ShadowBottom = styled.div`\n  background: linear-gradient(rgba(255, 255, 255, 0.2), white);\n  position: absolute;\n  height: 50px;\n  width: 100%;\n  z-index: 10000;\n  /* background-color: red; */\n  bottom: 0px;\n  z-index: 10000;\n`;\n\nconst PostsPage: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const { isFetching, displayPosts, err } = useSelector(\n    (state: RootState) => state.posts\n  );\n  const savedPostKeys = useSelector(\n    (state: RootState) => state.savedPosts.postKeys\n  );\n\n  useEffect(() => {\n    dispatch(fetchTopStories());\n    dispatch(loadSavedPosts());\n  }, [dispatch]);\n\n  const handleSavePostClicked = (post: HackerPost) => {\n    dispatch(savePost({ post }));\n  };\n\n  return (\n    <Container>\n      {isFetching && <div>Fetching...</div>}\n      {err && <div>{err}</div>}\n      {!err && (\n        <ShadowContainer>\n          <ShadowTop />\n          <PostsList\n            posts={displayPosts}\n            onSavePostClicked={handleSavePostClicked}\n            savedPostKeys={savedPostKeys}\n          />\n          <ShadowBottom />\n        </ShadowContainer>\n      )}\n    </Container>\n  );\n};\n\nexport default PostsPage;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport PostsPage from \"../posts/PostsPage\";\n\nconst Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst TopBar = styled.div`\n  display: flex;\n  z-index: 1;\n  padding: 16px;\n  background-color: transparent;\n`;\n\nconst Title = styled.div`\n  flex: 1;\n  font-size: 20px;\n`;\n\nconst HomePage: React.FC = () => {\n  return (\n    <Container>\n      <TopBar>\n        <Title>HackerNews</Title>\n        <img\n          src={process.env.PUBLIC_URL + \"/images/settings.svg\"}\n          alt=\"settings\"\n        />\n      </TopBar>\n      <PostsPage />\n    </Container>\n  );\n};\n\nexport default HomePage;\n","import React, { FunctionComponent, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { loadSettingsFromStorage } from \"./features/settings/settings.slice\";\nimport HomePage from \"./pages/home/HomePage\";\nimport { RootState } from \"./reducer\";\n\nconst Container = styled.div`\n  height: 100vh;\n  overflow: hidden;\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica,\n    Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n`;\n\nconst App: FunctionComponent = () => {\n  const dispatch = useDispatch();\n  const settingsLoaded = useSelector(\n    (state: RootState) => state.settings.settingsLoaded\n  );\n\n  useEffect(() => {\n    dispatch(loadSettingsFromStorage());\n  }, [dispatch]);\n\n  if (!settingsLoaded) {\n    return null;\n  }\n\n  return (\n    <Container>\n      <HomePage />\n    </Container>\n  );\n};\n\nexport default App;\n","import { combineReducers } from \"redux\";\nimport postsReducer from \"./features/posts/posts.slice\";\nimport settingsReducer from \"./features/settings/settings.slice\";\nimport savedPostsReducer from \"./features/saved-posts/saved-posts.slice\";\n\nconst reducer = combineReducers({\n  posts: postsReducer,\n  settings: settingsReducer,\n  savedPosts: savedPostsReducer,\n});\n\nexport default reducer;\n\nexport type RootState = ReturnType<typeof reducer>;\n","import { Action, configureStore, ThunkAction } from \"@reduxjs/toolkit\";\nimport reducer, { RootState } from \"./reducer\";\n\nconst store = configureStore({ reducer });\n\nexport default store;\n\nexport type AppThunk = ThunkAction<void, RootState, null, Action<string>>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}